<?php
/**
 * Шаблон базы данных магазина
 */
$table_name = USAM_TABLE_SETS;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['thumbnail_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['purchase_name'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']        = "varchar(255) NOT NULL DEFAULT 'draft'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['sort']          = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['sort']          = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['status']        = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SET_META;
$database_template[$table_name]['columns']['meta_id']    = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['set_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']   = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['set_id']     = "KEY `set_id` (`set_id`)";
$database_template[$table_name]['indexes']['meta_key']   = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value'] = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PRODUCTS_SETS;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['set_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['category_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']      = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']        = "tinyint unsigned NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['sort']          = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['sort']          = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['set_id']        = "KEY `set_id` (`set_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_NOTES;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['note']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['user_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['status']        = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']          = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['sort']          = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['user_id']       = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['status']        = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_DATA_ORDER_PRODUCTS;
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity_sold'] = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['stock']         = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['columns']['date_insert']   = "date NOT NULL";

$table_name = USAM_TABLE_STOCK_MANAGEMENT_DATA;
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['storage_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity_sold'] = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['stock']         = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['storage_id']    = "KEY `storage_id` (`storage_id`)";
$database_template[$table_name]['columns']['date_insert']   = "date NOT NULL";

$table_name = USAM_TABLE_PARSING_SITES;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['site_type']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_price']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['store']            = "varchar(255) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['columns']['scheme']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['view_product']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['domain']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['proxy']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['count_urls']       = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['bypass_speed']     = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['start_date']       = "datetime NULL";
$database_template[$table_name]['columns']['end_date']         = "datetime NULL";
$database_template[$table_name]['indexes']['site_type']        = "KEY `site_type` (`site_type`)";
$database_template[$table_name]['indexes']['active']           = "KEY `active` (`active`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_PARSING_SITE_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['site_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['site_id']     = "KEY `site_id` (`site_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PARSING_SITE_URL;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['site_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['url']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']      = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['site_id']     = "KEY `site_id` (`site_id`)";
$database_template[$table_name]['indexes']['url']         = "KEY `url` (`url`)";
$database_template[$table_name]['indexes']['status']      = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['date_insert']  = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_PRODUCTS_COMPETITORS;
$database_template[$table_name]['columns']['id'] = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sku'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['thumbnail'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['url'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['current_price'] = "decimal(9,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price'] = "decimal(9,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['competitor_category_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['site_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price_date'] = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_update'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['status']  = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['site_id']  = "KEY `site_id` (`site_id`)";
$database_template[$table_name]['indexes']['product_id']  = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['date_insert']  = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['date_update']  = "KEY `date_update` (`date_update`)";
$database_template[$table_name]['indexes']['current_price']  = "KEY `current_price` (`current_price`)"; 
$database_template[$table_name]['indexes']['old_price']  = "KEY `old_price` (`old_price`)";
$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_COMPETITOR_PRODUCT_PRICE;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['price']       = "decimal(9,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['competitor_product_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['price']       = "KEY `price` (`price`)";
$database_template[$table_name]['indexes']['date_insert']  = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['competitor_product_id'] = "KEY `competitor_product_id` (`competitor_product_id`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CATEGORIES_COMPETITORS;
$database_template[$table_name]['columns']['id'] = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['category_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['category_id']  = "KEY `category_id` (`category_id`)";
$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`id`)";
 
$table_name = USAM_TABLE_PRODUCTS_ON_INTERNET;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['source']           = "varchar(255) NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['author']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['content_type']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['content_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['foto_url']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['likes']            = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['comments']         = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']             = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['status']           = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['indexes']['sort']             = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['status']           = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['product_id']       = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_COMMUNICATION_ERRORS;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['communication_type'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['reason']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['communication']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['columns']['status']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['communication_type'] = "KEY `communication_type` (`communication_type`)";
$database_template[$table_name]['indexes']['communication']    = "KEY `communication` (`communication`)";
$database_template[$table_name]['indexes']['status']           = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CHAT_BOT_TEMPLATES;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['channel']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['channel_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['active']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CHAT_BOT_COMMANDS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['template_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['message']           = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['time_delay']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['active']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['template_id']       = "KEY `template_id` (`template_id`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CHAT_BOT_COMMAND_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['command_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['command_id']       = "KEY `command_id` (`command_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

// В таблице содержится темы чата
$table_name = USAM_TABLE_CHAT_DIALOGS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['contact_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'"; //создатель чата
$database_template[$table_name]['columns']['channel']      = "varchar(255) NOT NULL DEFAULT 'chat'";
$database_template[$table_name]['columns']['name']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']         = "varchar(255) NOT NULL DEFAULT 'personal'";
$database_template[$table_name]['columns']['channel_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']  = "datetime NOT NULL";
$database_template[$table_name]['indexes']['contact_id']   = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CHAT_USERS;
$database_template[$table_name]['columns']['dialog_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['not_read']   = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['dialog_id']  = "KEY `dialog_id` (`dialog_id`)";
$database_template[$table_name]['indexes']['contact_id'] = "KEY `contact_id` (`contact_id`)";

// В таблице содержится сообщения чата
$table_name = USAM_TABLE_CHAT;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['guid']        = "bigint(20) unsigned NOT NULL DEFAULT '0'"; 
$database_template[$table_name]['columns']['contact_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['dialog_id']   = "bigint(15) unsigned NOT NULL DEFAULT '0'"; // группировка сообщений по темам
$database_template[$table_name]['columns']['message']     = "text NOT NULL DEFAULT ''";	   // сообщение
$database_template[$table_name]['columns']['type_message'] = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['dialog_id']   = "KEY `dialog_id` (`dialog_id`)";
$database_template[$table_name]['indexes']['contact_id']  = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['date_insert']  = "KEY `date_insert` (`date_insert`)";

$table_name = USAM_TABLE_CHAT_MESSAGE_STATUSES;
$database_template[$table_name]['columns']['message_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['message_id'] = "KEY `message_id` (`message_id`)";
$database_template[$table_name]['indexes']['contact_id'] = "KEY `contact_id` (`contact_id`)";

$table_name = USAM_TABLE_SOCIAL_NETWORK_PROFILES;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['app_id']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['name']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['photo']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['uri']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['access_token'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['from_group']   = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_social']  = "varchar(255) NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['birthday']     = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['type_price']   = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['contact_group'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['subscribers_count'] = "int unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['type_social']  = "KEY `type_social` (`type_social`)";

$table_name = USAM_TABLE_SOCIAL_NETWORK_PROFILE_META;
$database_template[$table_name]['columns']['meta_id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['profile_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']      = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['profile_id']      = "KEY `profile_id` (`profile_id`)";
$database_template[$table_name]['indexes']['meta_key']        = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']         = "PRIMARY KEY  (`meta_id`)";
	
$table_name = USAM_TABLE_EXCHANGE_RULES;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_file']         = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['file_data']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['schedule']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['time']              = "TIME NULL";
$database_template[$table_name]['columns']['exchange_option']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['encoding']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['splitting_array']   = "varchar(5) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['start_date']        = "datetime NULL";
$database_template[$table_name]['columns']['end_date']          = "datetime NULL";
$database_template[$table_name]['columns']['orderby']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['order']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['headings']          = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['start_line']        = "INT(10) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['end_line']          = "INT(10) NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_EXCHANGE_RULE_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['rule_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['rule_id']          = "KEY `rule_id` (`rule_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_SHOWCASES;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['domain']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['access_token']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['login']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']            = "varchar(40) NOT NULL DEFAULT 'active'";
$database_template[$table_name]['columns']['number_products']   = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['products']          = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['settings']          = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_FEEDS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['start_date']        = "datetime NULL";
$database_template[$table_name]['columns']['end_date']          = "datetime NULL";
$database_template[$table_name]['columns']['platform']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_price']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['active']            = "KEY `active` (`active`)";
$database_template[$table_name]['indexes']['start_date']        = "KEY `start_date` (`start_date`)";
$database_template[$table_name]['indexes']['end_date']          = "KEY `end_date` (`end_date`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
					
$table_name = USAM_TABLE_FEED_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['feed_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['feed_id']          = "KEY `feed_id` (`feed_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_APPLICATIONS;
$database_template[$table_name]['columns']['id']               = "int(10) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['service_code']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['group_code']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['access_token']     = "varchar(1400) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['login']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['password']         = "varchar(1400) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['active']            = "KEY `active` (`active`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_APPLICATION_META;
$database_template[$table_name]['columns']['meta_id']          = "int(10) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['service_id']       = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['service_id']       = "KEY `service_id` (`service_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_DEPARTMENTS;
$database_template[$table_name]['columns']['id']                = "int(10) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['company']           = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['chief']             = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_TRIGGERS; 
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']       = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['code']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['event']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['conditions']   = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']         = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['sort']         = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['PRIMARY']   = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_TRIGGER_META;
$database_template[$table_name]['columns']['meta_id']    = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['trigger_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value'] = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['trigger_id'] = "KEY `trigger_id` (`trigger_id`)";
$database_template[$table_name]['indexes']['meta_key']   = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_CAMPAIGNS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['redirect']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['source']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['medium']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['term']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['content']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['transitions']       = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['code']              = "KEY `code` (`code`)";
$database_template[$table_name]['indexes']['source']            = "KEY `source` (`source`)";
$database_template[$table_name]['indexes']['medium']            = "KEY `medium` (`medium`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CAMPAIGN_TRANSITIONS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['campaign_id']       = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']        = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['campaign_id']       = "KEY `campaign_id` (`campaign_id`)";
$database_template[$table_name]['indexes']['contact_id']        = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_USER_REFERRALS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['counter']           = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "varchar(20) NOT NULL DEFAULT 'active'";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['user_id']           = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['counter']           = "KEY `counter` (`counter`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_OPEN_REFERRAL_LINKS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['ip']                = "int(11) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['referer']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['contact_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['user_id']           = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['contact_id']        = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['ip']                = "KEY `ip` (`ip`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_VISITS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['contact_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['location_id']       = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['source']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['ip']                = "int(11) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['views']             = "smallint unsigned NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['visits']            = "smallint unsigned NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['date_update']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['contact_id']        = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['location_id']       = "KEY `location_id` (`location_id`)";
$database_template[$table_name]['indexes']['views']             = "KEY `views` (`views`)";
$database_template[$table_name]['indexes']['ip']                = "KEY `ip` (`ip`)";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_VISIT_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['visit_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['visit_id']    = "KEY `visit_id` (`visit_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PAGE_VIEWED;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['post_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['term_id']           = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['visit_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['url']               = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['post_id']           = "KEY `post_id` (`post_id`)";
$database_template[$table_name]['indexes']['term_id']           = "KEY `term_id` (`term_id`)";
$database_template[$table_name]['indexes']['visit_id']          = "KEY `visit_id` (`visit_id`)";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SIGNATURES;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['signature']         = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['manager_id']        = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['mailbox_id']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['manager_id']        = "KEY `manager_id` (`manager_id`)";

$table_name = USAM_TABLE_WEBFORMS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']              = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['start_date']        = "datetime NULL";
$database_template[$table_name]['columns']['end_date']          = "datetime NULL";
$database_template[$table_name]['columns']['action']            = "varchar(255) NOT NULL DEFAULT 'contacting'";
$database_template[$table_name]['columns']['actuation_time']    = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['template']          = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['language']          = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['settings']          = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['action']            = "KEY `action` (`action`)";
$database_template[$table_name]['indexes']['start_date']        = "KEY `start_date` (`start_date`)";
$database_template[$table_name]['indexes']['end_date']          = "KEY `end_date` (`end_date`)";
$database_template[$table_name]['indexes']['code']              = "KEY `code` (`code`)";
$database_template[$table_name]['indexes']['active']            = "KEY `active` (`active`)";

$table_name = USAM_TABLE_FILTERS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['screen_id']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['setting']           = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']              = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['screen_id']         = "KEY `screen_id` (`screen_id`)";
$database_template[$table_name]['indexes']['user_id']           = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CALLS; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['call_id']       = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']        = "char(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['call_type']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['time']          = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['price']         = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['phone']         = "varchar(12) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['status']        = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['manager_id']    = "KEY `manager_id` (`manager_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";

$table_name = USAM_TABLE_SALES_PLAN; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['period_type']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['from_period']   = "date NOT NULL";
$database_template[$table_name]['columns']['to_period']     = "date NOT NULL";
$database_template[$table_name]['columns']['target']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['plan_type']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['manager_id']    = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['sum']           = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['from_period']   = "KEY `from_period` (`from_period`)";
$database_template[$table_name]['indexes']['to_period']     = "KEY `to_period` (`to_period`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";

$table_name = USAM_TABLE_PLAN_AMOUNTS; 
$database_template[$table_name]['columns']['plan_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['price']         = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']    = "UNIQUE KEY `unique_key` (`plan_id`,`object_id`)";

$table_name = USAM_TABLE_DOCUMENT_PRODUCTS; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['price']         = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price']     = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']      = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['used_bonuses']  = "smallint unsigned NOT NULL DEFAULT '0'"; // Использованные бонусы
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";
$database_template[$table_name]['indexes']['document_id']   = "KEY `document_id` (`document_id`)";

$table_name = USAM_TABLE_TAX_PRODUCT_DOCUMENT; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['tax_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['document_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['tax']           = "decimal(18,9) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['is_in_price']   = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['rate']          = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['document_id']   = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['tax_id']        = "KEY `tax_id` (`tax_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";
 
$table_name = USAM_TABLE_DOCUMENT_CONTACTS;
$database_template[$table_name]['columns']['document_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_type']      = "varchar(12) NOT NULL DEFAULT 'participant'";
$database_template[$table_name]['indexes']['document_id']       = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['contact_id']        = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['contact_type']      = "KEY `contact_type` (`contact_type`)";

$table_name = USAM_TABLE_DOCUMENT_LINKS;
$database_template[$table_name]['columns']['link_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['document_type']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['document_link_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['document_link_type'] = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['link_type']        = "varchar(50) NOT NULL DEFAULT 'link'";
$database_template[$table_name]['indexes']['document_id']      = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['document_type']    = "KEY `document_type` (`document_type`)";
$database_template[$table_name]['indexes']['document_link_id'] = "KEY `document_link_id` (`document_link_id`)";
$database_template[$table_name]['indexes']['link_type']        = "KEY `link_type` (`link_type`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`link_id`)";
/*
$table_name = USAM_TABLE_DOCUMENT_LINKS_PATH;
$database_template[$table_name]['columns']['parent_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['child_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['depth']     = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['parent_id'] = "KEY `parent_id` (`parent_id`)";
$database_template[$table_name]['indexes']['child_id']  = "KEY `child_id` (`child_id`)";
$database_template[$table_name]['indexes']['depth']     = "KEY `depth` (`depth`)";
*/
$table_name = USAM_TABLE_DOCUMENT_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['document_id']      = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_DOCUMENT_CONTENT;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['document_id']      = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_DOCUMENTS;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['number']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['customer_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['customer_type']    = "varchar(7) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['name']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_price']       = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['totalprice']       = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']           = "char(10) NOT NULL DEFAULT 'draft'";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['columns']['closedate']        = "datetime";//срок оплаты
$database_template[$table_name]['columns']['bank_account_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']       	   = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['external_document'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['status']           = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['number']           = "KEY `number` (`number`)";
$database_template[$table_name]['indexes']['type']             = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['customer_type']    = "KEY `customer_type` (`customer_type`)";
$database_template[$table_name]['indexes']['customer_id']      = "KEY `customer_id` (`customer_id`)";

$table_name = USAM_TABLE_TAXES;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']             = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['value']            = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_update']      = "datetime NOT NULL";
$database_template[$table_name]['columns']['is_in_price']      = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['active']           = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_payer']       = "int(8) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['setting']          = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']             = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";
 
$table_name = USAM_TABLE_PAYMENT_GATEWAY;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']             = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']             = "char(1) NOT NULL DEFAULT ''"; // эквайринговая операция
$database_template[$table_name]['columns']['debug']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['ipn']              = "tinyint unsigned NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['bank_account_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['handler']          = "varchar(100) NOT NULL DEFAULT ''"; // Обработчик
$database_template[$table_name]['columns']['img']              = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']             = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['sort']             = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_PAYMENT_GATEWAY_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['payment_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['payment_id']  = "KEY `payment_id` (`payment_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";
 
$table_name = USAM_TABLE_DELIVERY_SERVICE;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']             = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['storage_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['tax_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['courier_company']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['include_in_cost']  = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['delivery_option']  = "tinyint unsigned NOT NULL DEFAULT 0";
$database_template[$table_name]['columns']['active']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['period_from']      = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['period_to']        = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['period_type']      = "varchar(10) NOT NULL DEFAULT 'd'";
$database_template[$table_name]['columns']['handler']          = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['img']              = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']             = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_DELIVERY_SERVICE_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['delivery_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['delivery_id'] = "KEY `delivery_id` (`delivery_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_NEWSLETTER_USER_STAT;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['newsletter_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['communication']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sent_at']           = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['opened_at']         = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['clicked']           = "smallint unsigned NOT NULL DEFAULT '0'";// Количество нажатий
$database_template[$table_name]['columns']['unsub']             = "smallint unsigned NOT NULL DEFAULT '0'";// отписался
$database_template[$table_name]['columns']['status']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['newsletter_id']     = "KEY `newsletter_id` (`newsletter_id`)";
$database_template[$table_name]['indexes']['communication']     = "KEY `communication` (`communication`)";
$database_template[$table_name]['indexes']['sent_at']           = "KEY `sent_at` (`sent_at`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_NEWSLETTERS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['mailbox_id']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['subject']        	= "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['template']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['start_date']        = "datetime NULL";
$database_template[$table_name]['columns']['repeat_days']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sent_at']           = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['status']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']              = "varchar(4) NOT NULL DEFAULT 'mail'";
$database_template[$table_name]['columns']['class']             = "varchar(10) NOT NULL DEFAULT 'simple'";
$database_template[$table_name]['columns']['number_sent']       = "int(10) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_opened']     = "int(10) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_clicked']    = "int(10) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_unsub']      = "int(10) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_bounce']     = "int(10) NOT NULL DEFAULT '0'"; // отказы
$database_template[$table_name]['columns']['number_forward']    = "int(10) NOT NULL DEFAULT '0'"; // в ожидании
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_NEWSLETTER_TEMPLATE_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['newsletter_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['newsletter_id'] = "KEY `newsletter_id` (`newsletter_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_MAILING_LISTS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['parent_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";	
$database_template[$table_name]['columns']['name']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']         = "varchar(10) NOT NULL DEFAULT 'email'";
$database_template[$table_name]['columns']['view']         = "tinyint NOT NULL DEFAULT '0'"; 
$database_template[$table_name]['columns']['subscribed']   = "int(10) NOT NULL DEFAULT '0'"; 
$database_template[$table_name]['columns']['unconfirmed']  = "int(10) NOT NULL DEFAULT '0'"; 
$database_template[$table_name]['columns']['unsubscribed'] = "int(10) NOT NULL DEFAULT '0'"; 
$database_template[$table_name]['columns']['date_insert']  = "datetime DEFAULT NULL";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_MAILING_LIST_META;
$database_template[$table_name]['columns']['meta_id']    = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['list_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']   = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value'] = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['list_id']    = "KEY `list_id` (`list_id`)";
$database_template[$table_name]['indexes']['meta_key']   = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`meta_id`)";
				
$table_name = USAM_TABLE_NEWSLETTER_LISTS;
$database_template[$table_name]['columns']['newsletter_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['list']              = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']        = "UNIQUE KEY `unique_key` (`newsletter_id`,`list`)";

$table_name = USAM_TABLE_SUBSCRIBER_LISTS;
$database_template[$table_name]['columns']['communication']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['list']              = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']              = "varchar(255) NOT NULL DEFAULT 'email'";
$database_template[$table_name]['indexes']['list']              = "KEY `list` (`list`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['communication']     = "KEY `communication` (`communication`)";

$table_name = USAM_TABLE_GROUPS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "varchar(255) NOT NULL DEFAULT 'public'";
$database_template[$table_name]['columns']['code']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']              = "tinyint NOT NULL DEFAULT '0'"; // Сортировка
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['sort']              = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_GROUP_RELATIONSHIPS;
$database_template[$table_name]['columns']['group_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['group_id']          = "KEY `group_id` (`group_id`)";
$database_template[$table_name]['indexes']['object_id']         = "KEY `object_id` (`object_id`)";
 
$table_name = USAM_TABLE_CONTACTS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['status']            = "char(255) NOT NULL DEFAULT 'contact'";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['total_purchased']   = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['last_order_date']   = "datetime NULL";
$database_template[$table_name]['columns']['number_orders']     = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['appeal']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['online']            = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['company_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['open']              = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['secret_key']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['contact_source']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['manager_id']        = "KEY `manager_id` (`manager_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['contact_source']    = "KEY `contact_source` (`contact_source`)";
$database_template[$table_name]['indexes']['secret_key']        = "KEY `secret_key` (`secret_key`)";
$database_template[$table_name]['indexes']['company_id']        = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['user_id']           = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['online']            = "KEY `online` (`online`)";
$database_template[$table_name]['indexes']['total_purchased']   = "KEY `total_purchased` (`total_purchased`)";
$database_template[$table_name]['indexes']['last_order_date']   = "KEY `last_order_date` (`last_order_date`)";
$database_template[$table_name]['indexes']['number_orders']     = "KEY `number_orders` (`number_orders`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CONTACT_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['contact_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['contact_id']  = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_CONTACT_ADDRESS;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['contact_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['location_id'] = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['index']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['street']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['house']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['flat']        = "varchar(255) NOT NULL DEFAULT ''";//квартира
$database_template[$table_name]['columns']['floor']       = "varchar(255) NOT NULL DEFAULT ''";//этаж
$database_template[$table_name]['columns']['frame']       = "varchar(255) NOT NULL DEFAULT ''";//корпус 
$database_template[$table_name]['indexes']['contact_id']  = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['location_id'] = "KEY `location_id` (`location_id`)";
$database_template[$table_name]['indexes']['street']      = "KEY `street` (`street`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_COMPANY;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['total_purchased']   = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['last_order_date']   = "datetime NULL";
$database_template[$table_name]['columns']['number_orders']     = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "char(255) NOT NULL DEFAULT 'contact'";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['manager_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['parent_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";		
$database_template[$table_name]['columns']['open']              = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['type']              = "varchar(20) NOT NULL DEFAULT ''"; //Тип компании (своя или сторонняя )
$database_template[$table_name]['columns']['industry']          = "varchar(20) NOT NULL DEFAULT ''"; //Сфера деятельности
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['total_purchased']   = "KEY `total_purchased` (`total_purchased`)";
$database_template[$table_name]['indexes']['last_order_date']   = "KEY `last_order_date` (`last_order_date`)";
$database_template[$table_name]['indexes']['number_orders']     = "KEY `number_orders` (`number_orders`)";
$database_template[$table_name]['indexes']['manager_id']        = "KEY `manager_id` (`manager_id`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";

$table_name = USAM_TABLE_COMPANY_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['company_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['company_id']  = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_COMPANY_FINANCE;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['company_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['year']        = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['code']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['value']       = "int unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['company_id']  = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['year']        = "KEY `year` (`year`)";
$database_template[$table_name]['indexes']['code']        = "KEY `code` (`code`)";
$database_template[$table_name]['indexes']['value']       = "KEY `value` (`value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_COMPANY_PERSONAL_ACCOUNTS;
$database_template[$table_name]['columns']['company_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['company_id'] = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['user_id']    = "KEY `user_id` (`user_id`)";

$table_name = USAM_TABLE_COMPANY_CONNECTIONS;
$database_template[$table_name]['columns']['company_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['connection_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_connection'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['company_id']      = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['connection_id']   = "KEY `connection_id` (`connection_id`)";

$table_name = USAM_TABLE_COMPANY_ACC_NUMBER;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['company_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']             = "varchar(255) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['columns']['bic']              = "varchar(9) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['columns']['number']           = "varchar(50) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['columns']['bank_ca']          = "varchar(50) NOT NULL DEFAULT ''"; //кор счет
$database_template[$table_name]['columns']['currency']         = "varchar(3) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['columns']['address']          = "varchar(255) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['columns']['swift']            = "varchar(11) NOT NULL DEFAULT ''"; 
$database_template[$table_name]['indexes']['company_id']       = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";	

$table_name = usam_get_table_db('properties'); 
$database_template[$table_name]['columns']['id'] = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type'] = "varchar(64) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['field_type'] = "varchar(64) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['group'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['mandatory'] = "tinyint NOT NULL DEFAULT '0'";// Обязательное заполнение клиентом
$database_template[$table_name]['columns']['active'] = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['show_staff'] = "tinyint NOT NULL DEFAULT '1'";//Показать персоналу сайта
$database_template[$table_name]['columns']['code'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['mask'] = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort'] = "smallint NOT NULL DEFAULT '0'"; // Сортировка
$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['sort'] = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['type'] = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['active'] = "KEY `active` (`active`)";

$table_name = usam_get_table_db('property_meta');
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['property_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['property_id']      = "KEY `property_id` (`property_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = usam_get_table_db('property_groups'); 
$database_template[$table_name]['columns']['id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['parent_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']      = "varchar(64) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']      = "smallint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['system']    = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['type']      = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['PRIMARY']   = "PRIMARY KEY  (`id`)";

$table_name = usam_get_table_db('property_group_meta');
$database_template[$table_name]['columns']['meta_id']       = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['group_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['group_id']      = "KEY `group_id` (`group_id`)";
$database_template[$table_name]['indexes']['meta_key']      = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']    = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_FILES;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['code']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['object_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['folder_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['title']             = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['file_path']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['mime_type']         = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_update']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['size']              = "int unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['uploaded']          = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "char(11) DEFAULT 'closed'";
$database_template[$table_name]['indexes']['object_id']         = "KEY `object_id` (`object_id`)";
$database_template[$table_name]['indexes']['folder_id']         = "KEY `folder_id` (`folder_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['uploaded']          = "KEY `uploaded` (`uploaded`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_FILE_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['file_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['file_id']          = "KEY `file_id` (`file_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_FOLDERS;
$database_template[$table_name]['columns']['id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['parent_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']     = "char(11) DEFAULT 'closed'";
$database_template[$table_name]['columns']['slug']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['count']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_update'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['status']      = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_NOTIFICATIONS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title']             = "varchar(255) DEFAULT NULL";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "char(11) DEFAULT NULL";
$database_template[$table_name]['indexes']['user_id']           = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_NOTIFICATION_RELATIONSHIPS;
$database_template[$table_name]['columns']['notification_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_type']       = "varchar(20) DEFAULT ''";
$database_template[$table_name]['columns']['object_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']        = "UNIQUE KEY `unique_key` (`notification_id`,`object_type`,`object_id`)";

$table_name = USAM_TABLE_EVENTS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title']             = "varchar(255) DEFAULT NULL";
$database_template[$table_name]['columns']['description']       = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']              = "varchar(30) DEFAULT NULL";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_completion']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['calendar']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['start']             = "datetime NULL";
$database_template[$table_name]['columns']['end']               = "datetime NULL";
$database_template[$table_name]['columns']['schedule']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['importance']        = "tinyint NOT NULL DEFAULT '0'"; // Важное
$database_template[$table_name]['columns']['color']             = "varchar(7) DEFAULT NULL";
$database_template[$table_name]['columns']['status']            = "char(50) DEFAULT NULL";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['type']              = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['user_id']           = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_EVENT_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['event_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['event_id']         = "KEY `event_id` (`event_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_EVENT_ACTION_LIST;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['event_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']            = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']              = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['event_id']          = "KEY `event_id` (`event_id`)";

$table_name = USAM_TABLE_EVENT_USERS;
$database_template[$table_name]['columns']['event_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_type']         = "varchar(12) NOT NULL DEFAULT 'participant'";
$database_template[$table_name]['indexes']['unique_key']        = "UNIQUE KEY `unique_key` (`event_id`,`user_id`,`user_type`)";

$table_name = USAM_TABLE_CONTACTINGS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_completion']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['manager_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['post_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['importance']        = "tinyint NOT NULL DEFAULT '0'"; // Важное
$database_template[$table_name]['columns']['status']            = "char(50) DEFAULT NULL";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['manager_id']        = "KEY `manager_id` (`manager_id`)";
$database_template[$table_name]['indexes']['post_id']           = "KEY `post_id` (`post_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CONTACTING_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['contacting_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['contacting_id']    = "KEY `contacting_id` (`contacting_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_EMAIL;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['from_email']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['from_name']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['to_email']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['to_name']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['title']        	    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['body']           	= "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['sent_at']           = "datetime DEFAULT NULL";          // отправлено
$database_template[$table_name]['columns']['read']              = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['folder']            = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['importance']        = "tinyint NOT NULL DEFAULT '0'"; // Важное
$database_template[$table_name]['columns']['mailbox_id']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type']              = "varchar(20) NOT NULL DEFAULT 'sent_letter'";
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['folder']            = "KEY `folder` (`folder`)";
$database_template[$table_name]['indexes']['mailbox_id']        = "KEY `mailbox_id` (`mailbox_id`)";
$database_template[$table_name]['indexes']['from_email']        = "KEY `from_email` (`from_email`)";
$database_template[$table_name]['indexes']['to_email']          = "KEY `to_email` (`to_email`)";
$database_template[$table_name]['indexes']['date_insert']       = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_EMAIL_META;
$database_template[$table_name]['columns']['meta_id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['email_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['email_id']        = "KEY `email_id` (`email_id`)";
$database_template[$table_name]['indexes']['meta_key']        = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']      = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']         = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_EMAIL_FOLDERS;
$database_template[$table_name]['columns']['id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['mailbox_id'] = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['slug']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['count']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['not_read']   = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['mailbox_id'] = "KEY `mailbox_id` (`mailbox_id`)";

$table_name = USAM_TABLE_EMAIL_RELATIONSHIPS;
$database_template[$table_name]['columns']['email_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_type']     = "varchar(30) DEFAULT NULL";
$database_template[$table_name]['columns']['object_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['email_id']        = "KEY `email_id` (`email_id`)";
$database_template[$table_name]['indexes']['object_type']     = "KEY `object_type` (`object_type`)";

$table_name = USAM_TABLE_EMAIL_FILTERS;
$database_template[$table_name]['columns']['id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['user_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['mailbox_id'] = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['if']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['condition'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['value']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['action']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']   = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['user_id']   = "KEY `user_id` (`user_id`)";

$table_name = USAM_TABLE_MAILBOX_USERS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']   = "UNIQUE KEY `unique_key` (`id`,`user_id`)";

$table_name = USAM_TABLE_MAILBOX;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['email']           	= "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['delete_server_deleted'] = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['delete_server']     = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['delete_server_day'] = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['template_name']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['template']          = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']              = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['email']             = "KEY `email` (`email`)";
$database_template[$table_name]['indexes']['sort']              = "KEY `sort` (`sort`)";

$table_name = USAM_TABLE_MAILBOX_META;
$database_template[$table_name]['columns']['meta_id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['mailbox_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['mailbox_id']      = "KEY `mailbox_id` (`mailbox_id`)";
$database_template[$table_name]['indexes']['meta_key']        = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']      = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']         = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_LOADED_MESSAGES_LOG;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['letter_id']         = "varchar(70) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['mailbox_id']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['letter_id']         = "KEY `letter_id` (`letter_id`)";
$database_template[$table_name]['indexes']['mailbox_id']        = "KEY `mailbox_id` (`mailbox_id`)";

$table_name = USAM_TABLE_SMS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['phone']             = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['message']           = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['server_message_id'] = "varchar(40) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['folder']            = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sent_at']           = "datetime DEFAULT NULL";    
$database_template[$table_name]['columns']['user_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['folder']            = "KEY `folder` (`folder`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_COMMENTS;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['object_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_type'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['message']     = "longtext DEFAULT ''";
$database_template[$table_name]['columns']['status']      = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['object_id']   = "KEY `object_id` (`object_id`)";
$database_template[$table_name]['indexes']['object_type'] = "KEY `object_type` (`object_type`)";
$database_template[$table_name]['indexes']['status']      = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['user_id']     = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_COMMENT_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['comment_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['comment_id']  = "KEY `comment_id` (`comment_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_RIBBON;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['event_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['event_type']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['event_id']    = "KEY `event_id` (`event_id`)";
$database_template[$table_name]['indexes']['event_type']  = "KEY `event_type` (`event_type`)";
$database_template[$table_name]['indexes']['date_insert'] = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_RIBBON_LINKS;
$database_template[$table_name]['columns']['ribbon_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_type'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['object_id']   = "KEY `object_id` (`object_id`)";
$database_template[$table_name]['indexes']['object_type'] = "KEY `object_type` (`object_type`)";
$database_template[$table_name]['indexes']['ribbon_id']   = "KEY `ribbon_id` (`ribbon_id`)";

$table_name = USAM_TABLE_RIBBON_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['ribbon_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['ribbon_id']   = "KEY `ribbon_id` (`ribbon_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

// Код для создания или обновления бонусов клиентов
$table_name = USAM_TABLE_CUSTOMER_REVIEWS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['contact_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['title']             = "varchar(150) DEFAULT NULL";
$database_template[$table_name]['columns']['review_text']       = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['review_response']   = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']            = "tinyint DEFAULT '1'";
$database_template[$table_name]['columns']['rating']            = "tinyint(2) DEFAULT '0'";
$database_template[$table_name]['columns']['page_id']           = "int(11) NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['page_id']           = "KEY `page_id` (`page_id`)";
$database_template[$table_name]['indexes']['contact_id']        = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";

$table_name = USAM_TABLE_CUSTOMER_REVIEW_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['review_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['review_id']        = "KEY `review_id` (`review_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_CUSTOMER_ACCOUNTS;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['status']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['user_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sum']              = "int NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['indexes']['user_id']          = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['alter']['id']                 = "AUTO_INCREMENT=100000000";
$database_template[$table_name]['indexes']['status']           = "KEY `status` (`status`)";

$table_name = USAM_TABLE_ACCOUNT_TRANSACTIONS;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['account_id']       = "int unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['transaction_code'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sum']              = "int unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_transaction'] = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['order_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['indexes']['account_id']       = "KEY `account_id` (`account_id`)";
$database_template[$table_name]['indexes']['order_id']         = "KEY `order_id` (`order_id`)";
$database_template[$table_name]['indexes']['type_transaction'] = "KEY `type_transaction` (`type_transaction`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_BONUS_CARDS;
$database_template[$table_name]['columns']['code']             = "int unsigned NOT NULL";// код
$database_template[$table_name]['columns']['status']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['user_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sum']              = "mediumint NULL DEFAULT '0'";
$database_template[$table_name]['columns']['percent']          = "decimal(5,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['indexes']['user_id']          = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['status']           = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`code`)";

// Код для создания или обновления бонусов клиентов
$table_name = USAM_TABLE_BONUS_TRANSACTIONS;
$database_template[$table_name]['columns']['id']               = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['code']             = "int unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['transaction_code'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sum']              = "smallint unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_transaction'] = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_type']      = "varchar(20) DEFAULT NULL";
$database_template[$table_name]['columns']['object_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']      = "datetime NOT NULL";
$database_template[$table_name]['indexes']['object_id']        = "KEY `object_id` (`object_id`)";
$database_template[$table_name]['indexes']['object_type']      = "KEY `object_type` (`object_type`)";
$database_template[$table_name]['indexes']['code']             = "KEY `code` (`code`)";
$database_template[$table_name]['indexes']['type_transaction'] = "KEY `type_transaction` (`type_transaction`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

// Таблицы для хранения складов
$table_name = USAM_TABLE_STORAGES;
$database_template[$table_name]['columns']['id']             = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['code']           = "varchar(45) NOT NULL DEFAULT ''";// код
$database_template[$table_name]['columns']['title']          = "varchar(255) NOT NULL DEFAULT ''";// название склада
$database_template[$table_name]['columns']['active']         = "tinyint NOT NULL DEFAULT '0'";// активность
$database_template[$table_name]['columns']['issuing']        = "tinyint NOT NULL DEFAULT '1'";// пункт выдачи
$database_template[$table_name]['columns']['type']           = "varchar(45) NOT NULL DEFAULT ''";// Тип пункта
$database_template[$table_name]['columns']['shipping']       = "tinyint NOT NULL DEFAULT '0'";// для отгрузки	
$database_template[$table_name]['columns']['location_id']    = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']           = "smallint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['owner']          = "varchar(45) NOT NULL DEFAULT ''";// владелец
$database_template[$table_name]['columns']['type_price']     = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['sort']           = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['active']         = "KEY `active` (`active`)";
$database_template[$table_name]['indexes']['owner']          = "KEY `owner` (`owner`)";
$database_template[$table_name]['indexes']['location_id']    = "KEY `location_id` (`location_id`)";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_STORAGE_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['storage_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['storage_id']       = "KEY `storage_id` (`storage_id`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_CUSTOM_PRODUCT_TABS;
$database_template[$table_name]['columns']['id']             = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['title']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['name']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']         = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['global']         = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['description']    = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']           = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`id`)";

$table_name = usam_get_table_db('posts_search');
$database_template[$table_name]['columns']['meta_id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['post_search_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']       = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']     = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['post_search_id'] = "KEY `post_search_id` (`post_search_id`)";
$database_template[$table_name]['indexes']['meta_key']       = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']     = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_TERM_META;
$database_template[$table_name]['columns']['meta_id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['term_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']       = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']     = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['term_id']        = "KEY `term_id` (`term_id`)";
$database_template[$table_name]['indexes']['meta_key']       = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']     = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_STOCK_BALANCES;
$database_template[$table_name]['columns']['meta_id']      = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']   = "decimal(9,3) NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['product_id']   = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['meta_key']     = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']   = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`meta_id`)";
/*
$table_name = USAM_TABLE_PRODUCTS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_type'] = "char(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sku']          = "char(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['barcode']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['unit_measure'] = "char(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['unit']         = "decimal(10,5) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['weight']       = "decimal(10,5) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['volume']       = "decimal(10,5) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['product_id']   = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['product_type'] = "KEY `product_type` (`product_type`)";
$database_template[$table_name]['indexes']['sku']          = "KEY `sku` (`sku`)";
$database_template[$table_name]['indexes']['code']         = "KEY `code` (`code`)";
$database_template[$table_name]['indexes']['barcode']      = "KEY `barcode` (`barcode`)";
$database_template[$table_name]['indexes']['weight']       = "KEY `weight` (`weight`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";
*/
if ( usam_is_multisite() && !is_main_site() ) 
{
	$table_name = usam_get_table_db('linking_posts_multisite');
	$database_template[$table_name]['columns']['ID']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['multisite_post_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['indexes']['multisite_post_id'] = "KEY `multisite_post_id` (`multisite_post_id`)";
	$database_template[$table_name]['indexes']['ID'] = "KEY `ID` (`ID`)";
	$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`ID`)";
	
	$table_name = usam_get_table_db('linking_terms_multisite');
	$database_template[$table_name]['columns']['term_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['multisite_term_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['indexes']['multisite_term_id'] = "KEY `multisite_term_id` (`multisite_term_id`)";
	$database_template[$table_name]['indexes']['term_id'] = "KEY `term_id` (`term_id`)";
	$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`term_id`)";
}
$table_name = USAM_TABLE_PRODUCT_META;
$database_template[$table_name]['columns']['meta_id']      = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']   = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['product_id']   = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['meta_key']     = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']   = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PRODUCT_PRICE;
$database_template[$table_name]['columns']['meta_id']      = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']     = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']   = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['product_id']   = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['meta_key']     = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']   = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`meta_id`)";

$table_name = usam_get_table_db('product_filters');
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['filter_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['product_id']   = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['filter_id']    = "KEY `filter_id` (`filter_id`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)"; 

$table_name = usam_get_table_db('product_components');
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']     = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['component']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['product_id']   = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)"; 

$table_name = usam_get_table_db('product_attribute_options'); // значения фильтров для выбора
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['attribute_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['slug']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['value']        = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']         = "smallint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['attribute_id'] = "KEY `attribute_id` (`attribute_id`)";
$database_template[$table_name]['indexes']['value']        = "KEY `value` (`value`)";
$database_template[$table_name]['indexes']['sort']         = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";  

$table_name = usam_get_table_db('product_attribute');
$database_template[$table_name]['columns']['meta_id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']        = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']      = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['product_id']      = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['meta_key']        = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']      = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']         = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_POST_META;
$database_template[$table_name]['columns']['meta_id']      = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['post_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']     = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']   = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['post_id']      = "KEY `post_id` (`post_id`)";
$database_template[$table_name]['indexes']['meta_key']     = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']   = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PRODUCT_MARKING_CODES;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['document_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['storage_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']      = "char(10) NULL DEFAULT 'available'";
$database_template[$table_name]['columns']['code']        = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['product_id']  = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['document_id'] = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['storage_id']  = "KEY `storage_id` (`storage_id`)";
$database_template[$table_name]['indexes']['status']      = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['code']        = "KEY `code` (`code`)";
 
$table_name = USAM_TABLE_ASSOCIATED_PRODUCTS;
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['associated_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['list']          = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['unique_key']    = "UNIQUE KEY `unique_key` (`product_id`,`associated_id`,`list`)";

$table_name = USAM_TABLE_DOWNLOAD_STATUS;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['fileid']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['order_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']  = "bigint(20) unsigned NULL";
$database_template[$table_name]['columns']['downloads']   = "smallint unsigned NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['ip_number']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']      = "tinyint NOT NULL DEFAULT '0'"; //ENUM('1','0')
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['product_id']  = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['order_id']    = "KEY `order_id` (`order_id`)";

$table_name = USAM_TABLE_PAYMENT_HISTORY;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['bank_account_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']        = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']              = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['number']            = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['external_document'] = "varchar(50) NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_payed']        = "datetime";
$database_template[$table_name]['columns']['sum']               = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']            = "varchar(255) NOT NULL DEFAULT 'draft'";
$database_template[$table_name]['columns']['payment_type']      = "varchar(50) NULL DEFAULT 'card'";
$database_template[$table_name]['columns']['gateway_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['transactid']        = "varchar(50) NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['document_id']       = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['gateway_id']       = "KEY `gateway_id` (`gateway_id`)";

$table_name = USAM_TABLE_PAYMENT_HISTORY_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['payment_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['payment_id']      = "KEY `payment_id` (`payment_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_SHIPPED_PRODUCTS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']              = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['product_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']          = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']      = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['price']             = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['reserve']           = "decimal(10,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['indexes']['product_id']        = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['document_id']       = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SHIPPED_DOCUMENTS;
$database_template[$table_name]['columns']['id']                = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['order_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']        = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['courier']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";// Курьер
$database_template[$table_name]['columns']['name']              = "varchar(50) NULL DEFAULT ''";
$database_template[$table_name]['columns']['number']            = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['customer_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['customer_type']     = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['method']            = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['storage_pickup']    = "mediumint(7) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['storage']           = "mediumint(7) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['totalprice']        = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_price']        = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['price']             = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['include_in_cost']   = "tinyint unsigned NOT NULL DEFAULT 1";
$database_template[$table_name]['columns']['date_insert']       = "datetime NOT NULL";
$database_template[$table_name]['columns']['status']            = "varchar(30) NOT NULL DEFAULT 'draft'";
$database_template[$table_name]['columns']['track_id']          = "varchar(50) NULL DEFAULT ''";
$database_template[$table_name]['columns']['tax_id']            = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['tax_value']         = "decimal(11,5) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']           = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['order_id']          = "KEY `order_id` (`order_id`)";
$database_template[$table_name]['indexes']['status']            = "KEY `status` (`status`)";
if ( get_option('usam_website_type', 'store' ) == 'marketplace' )
{
	$database_template[$table_name]['columns']['seller_id']     = "bigint(20) unsigned NULL DEFAULT '0'";
	$database_template[$table_name]['indexes']['seller_id']     = "KEY `seller_id` (`seller_id`)";
}

$table_name = USAM_TABLE_SHIPPED_DOCUMENT_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['document_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['document_id']      = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

// Код для создания или обновления таблицы с заказами
$table_name = USAM_TABLE_ORDERS; 
$database_template[$table_name]['columns']['id']                  = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['bank_account_id']     = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number']              = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['totalprice']          = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_products']     = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['cost_price']          = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_price']          = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['paid']                = "tinyint NOT NULL DEFAULT '0'";        // Оплачен
$database_template[$table_name]['columns']['date_paid']           = "datetime DEFAULT NULL";
$database_template[$table_name]['columns']['code']                = "varchar(255) NOT NULL DEFAULT ''"; // Для 1С
$database_template[$table_name]['columns']['status']              = "char(20) NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_payer']          = "smallint unsigned NOT NULL DEFAULT '0'";//Тип плательщика
$database_template[$table_name]['columns']['user_ID']             = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']          = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['company_id']          = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']          = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['shipping']            = "decimal(8,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']         = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_status_update']  = "datetime NOT NULL";
$database_template[$table_name]['columns']['source']              = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']             = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['status']              = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['contact_id']          = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['company_id']          = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['type_payer']          = "KEY `type_payer` (`type_payer`)";
$database_template[$table_name]['indexes']['date_status_update']  = "KEY `date_status_update` (`date_status_update`)";
$database_template[$table_name]['indexes']['date_insert']         = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['user_ID']             = "KEY `user_ID` (`user_ID`)";

$table_name = USAM_TABLE_ORDER_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['order_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['order_id']         = "KEY `order_id` (`order_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PRODUCTS_ORDER; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['order_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['price']         = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price']     = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['purchase_price'] = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']      = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['bonus']         = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['used_bonuses']  = "smallint unsigned NOT NULL DEFAULT '0'"; // Использованные бонусы
$database_template[$table_name]['columns']['product_day']   = "bigint(20) unsigned NOT NULL DEFAULT '0'"; //Правило товара дня
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";
$database_template[$table_name]['indexes']['order_id']      = "KEY `order_id` (`order_id`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['quantity']      = "KEY `quantity` (`quantity`)";
$database_template[$table_name]['indexes']['date_insert']   = "KEY `date_insert` (`date_insert`)";

$table_name = USAM_TABLE_PRODUCT_ORDER_META;
$database_template[$table_name]['columns']['meta_id']     = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_key_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']  = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['product_key_id'] = "KEY `product_key_id` (`product_key_id`)";
$database_template[$table_name]['indexes']['meta_key']    = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']  = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_TAX_PRODUCT_ORDER; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['tax_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['order_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['tax']           = "decimal(18,9) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['is_in_price']   = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['rate']          = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['order_id']      = "KEY `order_id` (`order_id`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['tax_id']        = "KEY `tax_id` (`tax_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";

$table_name = USAM_TABLE_LEADS; 
$database_template[$table_name]['columns']['id']                  = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['bank_account_id']     = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']                = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['totalprice']          = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_products']     = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_price']          = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']              = "char(20) NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_payer']          = "smallint unsigned NOT NULL DEFAULT '0'";//Тип плательщика
$database_template[$table_name]['columns']['user_id']             = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']          = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['company_id']          = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['manager_id']          = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']         = "datetime NOT NULL";
$database_template[$table_name]['columns']['date_status_update']  = "datetime NOT NULL";
$database_template[$table_name]['columns']['source']              = "varchar(20) NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']             = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['status']              = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['contact_id']          = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['company_id']          = "KEY `company_id` (`company_id`)";
$database_template[$table_name]['indexes']['date_insert']         = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['date_status_update']  = "KEY `date_status_update` (`date_status_update`)";
$database_template[$table_name]['indexes']['user_id']             = "KEY `user_id` (`user_id`)";

$table_name = USAM_TABLE_LEAD_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['lead_id']          = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['lead_id']          = "KEY `lead_id` (`lead_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']       = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PRODUCTS_LEAD; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['lead_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['price']         = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price']     = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']      = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['bonus']         = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";
$database_template[$table_name]['indexes']['lead_id']       = "KEY `lead_id` (`lead_id`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['quantity']      = "KEY `quantity` (`quantity`)";
$database_template[$table_name]['indexes']['date_insert']   = "KEY `date_insert` (`date_insert`)";

$table_name = USAM_TABLE_TAX_PRODUCT_LEAD; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['tax_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['lead_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['tax']           = "decimal(18,9) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['is_in_price']   = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['rate']          = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['lead_id']       = "KEY `lead_id` (`lead_id`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['tax_id']        = "KEY `tax_id` (`tax_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";

$table_name = USAM_TABLE_DOCUMENT_DISCOUNTS;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']          = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['document_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['document_type'] = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['rule_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['type_rule']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['discount']      = "decimal(8,4) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['dtype']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['start_date']    = "datetime NULL";
$database_template[$table_name]['columns']['end_date']      = "datetime NULL";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['type_rule']     = "KEY `type_rule` (`type_rule`)";
$database_template[$table_name]['indexes']['document_id']   = "KEY `document_id` (`document_id`)";
$database_template[$table_name]['indexes']['document_type'] = "KEY `document_type` (`document_type`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SUBSCRIPTIONS;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['type_price']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['totalprice']    = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number_products'] = "mediumint unsigned NOT NULL DEFAULT '0'";	
$database_template[$table_name]['columns']['customer_id']   = "bigint(20) unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['customer_type'] = "varchar(7) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['manager_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']        = "char(12) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['start_date']    = "datetime NOT NULL";
$database_template[$table_name]['columns']['end_date']      = "datetime NOT NULL";
$database_template[$table_name]['indexes']['customer_id']   = "KEY `customer_id` (`customer_id`)";
$database_template[$table_name]['indexes']['status']        = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SUBSCRIPTION_META;
$database_template[$table_name]['columns']['meta_id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['subscription_id']= "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']     = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['subscription_id']= "KEY `subscription_id` (`subscription_id`)";
$database_template[$table_name]['indexes']['meta_key']       = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']     = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_SUBSCRIPTION_PRODUCTS; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['subscription_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['price']         = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price']     = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']      = "decimal(9,3) unsigned NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";
$database_template[$table_name]['indexes']['subscription_id'] = "KEY `subscription_id` (`subscription_id`)";

$table_name = USAM_TABLE_SUBSCRIPTION_RENEWAL;
$database_template[$table_name]['columns']['id']              = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['subscription_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sum']             = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']          = "char(12) NOT NULL DEFAULT 'not_paid'";
$database_template[$table_name]['columns']['document_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']     = "datetime NOT NULL";
$database_template[$table_name]['columns']['start_date']      = "datetime NOT NULL";
$database_template[$table_name]['columns']['end_date']        = "datetime NOT NULL";
$database_template[$table_name]['indexes']['subscription_id'] = "KEY `subscription_id` (`subscription_id`)";
$database_template[$table_name]['indexes']['status']          = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']         = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_CHANGE_HISTORY;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['object_type']   = "varchar(20) DEFAULT NULL";
$database_template[$table_name]['columns']['object_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sub_object_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['operation']     = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['field']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['old_value']     = "varchar(5000) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['value']         = "varchar(5000) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['columns']['end']           = "datetime NOT NULL";
$database_template[$table_name]['columns']['user_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['object_id']     = "KEY `object_id` (`object_id`)";
$database_template[$table_name]['indexes']['object_type']   = "KEY `object_type` (`object_type`)";
$database_template[$table_name]['indexes']['date_insert']   = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['field']         = "KEY `field` (`field`)";

$table_name = USAM_TABLE_OBJECT_STATUSES; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['internalname']  = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['name']          = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']        = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['description']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['color']         = "varchar(15) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['text_color']    = "varchar(15) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['short_name']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']          = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['visibility']    = "tinyint NOT NULL DEFAULT '1'"; // отображаемый
$database_template[$table_name]['columns']['pay']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['close']         = "tinyint NOT NULL DEFAULT '0'"; // завершен
$database_template[$table_name]['columns']['type']          = "varchar(20) NULL DEFAULT ''";
$database_template[$table_name]['columns']['number']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['subject_email'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['email']         = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sms']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['external_code'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['type']          = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['internalname']  = "KEY `internalname` (`internalname`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_OBJECT_STATUS_META;
$database_template[$table_name]['columns']['meta_id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['status_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']     = "varchar(14000) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['status_id']      = "KEY `status_id` (`status_id`)";
$database_template[$table_name]['indexes']['meta_key']       = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']     = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`meta_id`)";

// Таблица местоположений
$table_name = USAM_TABLE_LOCATION; 
$database_template[$table_name]['columns']['id']            = "int(10) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['code']          = "varchar(64) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['parent']        = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(64) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']          = "smallint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['code']          = "KEY `code` (`code`)";
$database_template[$table_name]['indexes']['sort']          = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['parent']        = "KEY `parent` (`parent`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_LOCATION_META;
$database_template[$table_name]['columns']['meta_id']         = "int(10) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['location_id']     = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['location_id']     = "KEY `location_id` (`location_id`)";
$database_template[$table_name]['indexes']['meta_key']        = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['meta_value']      = "KEY `meta_value` (`meta_value`)";
$database_template[$table_name]['indexes']['PRIMARY']         = "PRIMARY KEY  (`meta_id`)";

// Таблица расстояний между местоположениями 
$table_name = USAM_TABLE_LOCATIONS_DISTANCE; 
$database_template[$table_name]['columns']['from_location_id'] = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['to_location_id']   = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['distance']         = "int(5) NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']       = "UNIQUE KEY `unique_key` (`from_location_id`,`to_location_id`)";

// Таблица типы местоположений
$table_name = USAM_TABLE_LOCATION_TYPE; 
$database_template[$table_name]['columns']['id'] = "int(10) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['code'] = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['level'] = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name'] = "varchar(40) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']    = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`id`)";

//Таблица страны
$table_name = USAM_TABLE_COUNTRY;
$database_template[$table_name]['columns']['code'] = "char(2) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['numerical'] = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['currency'] = "char(3) NULL DEFAULT ''";
$database_template[$table_name]['columns']['phone_code'] = "smallint unsigned NOT NULL DEFAULT '0'"; // телефонные коды
$database_template[$table_name]['columns']['language'] = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['language_code'] = "varchar(2) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['continent'] = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['location_id'] = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`code`)";
$database_template[$table_name]['indexes']['code'] = "KEY `code` (`code`)";

//Таблица валют
$table_name = USAM_TABLE_CURRENCY;
$database_template[$table_name]['columns']['code']      = "char(3) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['numerical'] = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['symbol']    = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['symbol_html'] = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['display_currency'] = "varchar(1) NOT NULL DEFAULT '1'";// показать другие валюты для товара
$database_template[$table_name]['columns']['external_code'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`code`)";
$database_template[$table_name]['indexes']['code'] = "KEY `code` (`code`)";

$table_name = USAM_TABLE_CURRENCY_RATES;
$database_template[$table_name]['columns']['id']             = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['basic_currency'] = "char(3) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['currency']       = "char(3) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['rate']           = "decimal(7,4) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['autoupdate']     = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['markup']         = "decimal(4,2) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_update']    = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['basic_currency'] = "KEY `basic_currency` (`basic_currency`)";
$database_template[$table_name]['indexes']['currency']       = "KEY `currency` (`currency`)";

// Код для создания или обновления таблицы с купонами
$table_name = USAM_TABLE_COUPON_CODES;
$database_template[$table_name]['columns']['id'] = "int(11) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['coupon_code'] = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['description'] = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['action'] = "char(1) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['value'] = "decimal(8,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['is_percentage'] = "char(1) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['is_used'] = "int(5) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['max_is_used'] = "int(5) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['active'] = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['user_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['amount_bonuses_author'] = "varchar(255) NULL DEFAULT ''";
$database_template[$table_name]['columns']['start_date'] = "datetime NULL";
$database_template[$table_name]['columns']['end_date'] = "datetime NULL";
$database_template[$table_name]['columns']['coupon_type'] = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY'] = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['coupon_code'] = "KEY `coupon_code` (`coupon_code`)";
$database_template[$table_name]['indexes']['active'] = "KEY `active` (`active`)";
$database_template[$table_name]['indexes']['user_id'] = "KEY `user_id` (`user_id`)";
$database_template[$table_name]['indexes']['start_date'] = "KEY `start_date` (`start_date`)";
$database_template[$table_name]['indexes']['end_date'] = "KEY `end_date` (`end_date`)";

$table_name = USAM_TABLE_COUPON_CODE_META;
$database_template[$table_name]['columns']['meta_id']          = "int(11) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['coupon_id']        = "int(11) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['coupon_id']        = "KEY `coupon_id` (`coupon_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = USAM_TABLE_PRODUCTS_BASKET; 
$database_template[$table_name]['columns']['id']             = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['cart_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']     = "bigint(20) UNSIGNED NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']           = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['price']          = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['old_price']      = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['used_bonuses']   = "smallint unsigned NOT NULL DEFAULT '0'"; // Использованные бонусы
$database_template[$table_name]['columns']['gift']           = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['quantity']       = "decimal(9,3) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']   = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['date_insert']    = "datetime NOT NULL";
$database_template[$table_name]['indexes']['cart_id']        = "KEY `cart_id` (`cart_id`)";
$database_template[$table_name]['indexes']['PRIMARY']        = "PRIMARY KEY  (`id`)";
if ( get_option('usam_website_type', 'store' ) == 'marketplace' )
{
	$database_template[$table_name]['columns']['seller_id']     = "bigint(20) unsigned NULL DEFAULT '0'";
	$database_template[$table_name]['indexes']['seller_id']     = "KEY `seller_id` (`seller_id`)";
}

$table_name = USAM_TABLE_USERS_BASKET;
$database_template[$table_name]['columns']['id']              = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['order_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']      = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['user_id']         = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['shipping_method'] = "bigint(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['storage_pickup']  = "mediumint(7) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['gateway_method']  = "bigint(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['coupon_name']     = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['quantity']        = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['bonuses']         = "smallint unsigned NULL DEFAULT '0'";
$database_template[$table_name]['columns']['shipping']        = "decimal(8,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['totalprice']      = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']     = "datetime NOT NULL";
$database_template[$table_name]['columns']['recalculation_date'] = "datetime NULL";
$database_template[$table_name]['indexes']['contact_id']       = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_USERS_BASKET_META;
$database_template[$table_name]['columns']['meta_id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['basket_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value']       = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['basket_id']        = "KEY `basket_id` (`basket_id`)";
$database_template[$table_name]['indexes']['meta_key']         = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

/*
$table_name = USAM_TABLE_TAX_PRODUCT_BASKET; 
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['tax_id']        = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['unit_measure']  = "varchar(50) NOT NULL DEFAULT 'thing'";
$database_template[$table_name]['columns']['basket_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['tax']           = "decimal(18,9) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['is_in_price']   = "tinyint NOT NULL DEFAULT '1'";
$database_template[$table_name]['columns']['rate']          = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['basket_id']     = "KEY `basket_id` (`basket_id`)";
$database_template[$table_name]['indexes']['product_id']    = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['tax_id']        = "KEY `tax_id` (`tax_id`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY (`id`)";
 */
$table_name = USAM_TABLE_DISCOUNT_BASKET;
$database_template[$table_name]['columns']['discount_order_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['cart_id']           = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']        = "UNIQUE KEY `unique_key` (`discount_order_id`,`cart_id`)";

$table_name = USAM_TABLE_PRODUCT_DISCOUNT_RELATIONSHIPS;
$database_template[$table_name]['columns']['product_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['code_price']  = "varchar(20) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['discount_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']  = "UNIQUE KEY `unique_key` (`product_id`,`code_price`,`discount_id`)";

$table_name = USAM_TABLE_DISCOUNT_RULES;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']        = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']      = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['included']    = "tinyint NOT NULL DEFAULT '0'";// Скидки включены
$database_template[$table_name]['columns']['product_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['parent_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['term_slug']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type_rule']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['code']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['discount']    = "decimal(8,4) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['dtype']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['start_date']  = "datetime NULL";
$database_template[$table_name]['columns']['end_date']    = "datetime NULL";
$database_template[$table_name]['columns']['priority']    = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['end']         = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['active']      = "KEY `active` (`active`)";
$database_template[$table_name]['indexes']['priority']    = "KEY `priority` (`priority`)";
$database_template[$table_name]['indexes']['type_rule']   = "KEY `type_rule` (`type_rule`)";
$database_template[$table_name]['indexes']['start_date']  = "KEY `start_date` (`start_date`)";
$database_template[$table_name]['indexes']['end_date']    = "KEY `end_date` (`end_date`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_DISCOUNT_RULE_META;
$database_template[$table_name]['columns']['meta_id']    = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['rule_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['meta_key']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['meta_value'] = "longtext DEFAULT ''";
$database_template[$table_name]['indexes']['rule_id']    = "KEY `rule_id` (`rule_id`)";
$database_template[$table_name]['indexes']['meta_key']   = "KEY `meta_key` (`meta_key`)";
$database_template[$table_name]['indexes']['PRIMARY']          = "PRIMARY KEY  (`meta_id`)";

$table_name = usam_get_table_db('taxonomy_relationships');
$database_template[$table_name]['columns']['term_id1']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['term_id2']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['taxonomy']   = "varchar(40) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['unique_key'] = "UNIQUE KEY `unique_key` (`term_id1`,`term_id2`)";

$table_name = USAM_TABLE_BANNERS;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']          = "varchar(30) NOT NULL DEFAULT 'image'";
$database_template[$table_name]['columns']['start_date']    = "datetime NULL";
$database_template[$table_name]['columns']['end_date']      = "datetime NULL";
$database_template[$table_name]['columns']['object_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_url']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['weight']        = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['views']         = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['status']        = "varchar(15) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['contact_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['settings']      = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']          = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['device']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['actuation_time']= "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
$database_template[$table_name]['indexes']['start_date']    = "KEY `start_date` (`start_date`)";
$database_template[$table_name]['indexes']['end_date']      = "KEY `end_date` (`end_date`)";
$database_template[$table_name]['indexes']['sort']          = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['status']        = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_BANNER_RELATIONSHIPS;
$database_template[$table_name]['columns']['banner_id']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['banner_location'] = "varchar(50) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['banner_id']       = "KEY `banner_id` (`banner_id`)";
$database_template[$table_name]['indexes']['banner_location'] = "KEY `banner_location` (`banner_location`)";

$table_name = USAM_TABLE_SLIDER;
$database_template[$table_name]['columns']['id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['name']       = "varchar(60) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['active']     = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['language']   = "varchar(100) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['source']     = "varchar(100) NOT NULL DEFAULT 'custom'";
$database_template[$table_name]['columns']['device']     = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['settings']   = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SLIDES;
$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['slider_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['title']         = "varchar(60) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']          = "varchar(255) NOT NULL DEFAULT 'trans'";
$database_template[$table_name]['columns']['object_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['object_url']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['link']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['end_date']      = "datetime";
$database_template[$table_name]['columns']['start_date']    = "datetime";
$database_template[$table_name]['columns']['sort']          = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['settings']      = "longtext NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SITES;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['domain']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['type']         = "varchar(5) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['date_insert']  = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SEARCHING_RESULTS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['phrase']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['number_results'] = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert']  = "datetime NOT NULL";
$database_template[$table_name]['indexes']['phrase']       = "KEY `phrase` (`phrase`)";
$database_template[$table_name]['indexes']['contact_id']   = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['number_results'] = "KEY `number_results` (`number_results`)";
$database_template[$table_name]['indexes']['date_insert']  = "KEY `date_insert` (`date_insert`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_KEYWORDS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['parent']       = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['keyword']      = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['source']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['link']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['yandex_hits']  = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['check']        = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['importance']   = "tinyint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SEARCH_ENGINE_REGIONS;
$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['location_id']  = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['active']       = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['code']         = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['name']         = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['search_engine']= "varchar(1) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['sort']         = "tinyint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['indexes']['unique_key']   = "UNIQUE KEY `unique_key` (`location_id`,`search_engine`)";
$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_STATISTICS_KEYWORDS;
$database_template[$table_name]['columns']['date_insert']  = "DATE NOT NULL";
$database_template[$table_name]['columns']['keyword_id']   = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['location_id']  = "int(10) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['url']          = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['search_engine']= "varchar(1) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['site_id']      = "mediumint(7) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['number']       = "tinyint NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['unique_key']   = "UNIQUE KEY `unique_key` (`date_insert`,`keyword_id`,`location_id`,`search_engine`,`site_id`)";

$table_name = USAM_TABLE_SUPPORT_MESSAGE;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['user_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";    
$database_template[$table_name]['columns']['subject']     = "varchar(6) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['message']     = "text NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['read']        = "tinyint NOT NULL DEFAULT '0'"; //прочитано
$database_template[$table_name]['columns']['outbox']      = "tinyint NOT NULL DEFAULT '0'"; //исходящие
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";
$database_template[$table_name]['indexes']['outbox']      = "KEY `outbox` (`outbox`)";

$table_name = USAM_TABLE_PRODUCT_DAY;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['rule_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['product_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['discount']    = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['dtype']       = "varchar(1) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']      = "varchar(1) NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']        = "smallint unsigned NOT NULL DEFAULT '100'";
$database_template[$table_name]['columns']['date_insert'] = "datetime NULL";
$database_template[$table_name]['indexes']['product_id']  = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['status']      = "KEY `status` (`status`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)"; 

$table_name = USAM_TABLE_USER_POST_LISTS;
$database_template[$table_name]['columns']['id']         = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['type']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['name']       = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['contact_id'] = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['sort']       = "tinyint NOT NULL DEFAULT '0'"; // Сортировка
$database_template[$table_name]['indexes']['type']       = "KEY `type` (`type`)";
$database_template[$table_name]['indexes']['sort']       = "KEY `sort` (`sort`)";
$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_USER_POSTS;
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['product_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['contact_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
$database_template[$table_name]['columns']['user_list']   = "varchar(30) NOT NULL DEFAULT ''";
$database_template[$table_name]['indexes']['user_list']   = "KEY `user_list` (`user_list`)";
$database_template[$table_name]['indexes']['product_id']  = "KEY `product_id` (`product_id`)";
$database_template[$table_name]['indexes']['contact_id']  = "KEY `contact_id` (`contact_id`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_SYSTEM_REPORTS; 
$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['type']        = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['operation']   = "varchar(255) NOT NULL DEFAULT 'preparation'";
$database_template[$table_name]['columns']['user_id']     = "bigint(20) unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['start_date']  = "datetime NOT NULL";
$database_template[$table_name]['columns']['end_date']    = "datetime NOT NULL";
$database_template[$table_name]['columns']['status']      = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['filename']    = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['description'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['add']         = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['columns']['update']      = "smallint unsigned NOT NULL DEFAULT '0'";
$database_template[$table_name]['indexes']['start_date']  = "KEY `start_date` (`start_date`)";
$database_template[$table_name]['indexes']['end_date']    = "KEY `end_date` (`end_date`)";
$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";

$table_name = USAM_TABLE_LICENSES;
$database_template[$table_name]['columns']['id']        = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
$database_template[$table_name]['columns']['license']   = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['software']  = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['license_type'] = "varchar(255) NOT NULL DEFAULT 'plugin'";
$database_template[$table_name]['columns']['software_type'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['license_holder'] = "varchar(255) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['status']    = "varchar(10) NOT NULL DEFAULT ''";
$database_template[$table_name]['columns']['license_start_date'] = "datetime NOT NULL";
$database_template[$table_name]['columns']['license_end_date'] = "datetime NOT NULL";
$database_template[$table_name]['indexes']['PRIMARY']   = "PRIMARY KEY  (`id`)";

if ( get_option('usam_website_type', 'store' ) == 'marketplace' )
{
	$table_name = USAM_TABLE_SELLERS;
	$database_template[$table_name]['columns']['id']            = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
	$database_template[$table_name]['columns']['name']          = "varchar(255) NOT NULL DEFAULT ''";
	$database_template[$table_name]['columns']['customer_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['rating']        = "tinyint unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['manager_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['number_products'] = "mediumint unsigned NOT NULL DEFAULT '0'";	
	$database_template[$table_name]['columns']['seller_type']   = "varchar(7) NOT NULL DEFAULT ''";
	$database_template[$table_name]['columns']['date_insert']   = "datetime NOT NULL";
	$database_template[$table_name]['indexes']['customer_id']   = "KEY `customer_id` (`customer_id`)";
	$database_template[$table_name]['indexes']['seller_type']   = "KEY `seller_type` (`seller_type`)";
	$database_template[$table_name]['indexes']['rating']        = "KEY `rating` (`rating`)";
	$database_template[$table_name]['indexes']['date_insert']   = "KEY `date_insert` (`date_insert`)";
	$database_template[$table_name]['indexes']['PRIMARY']       = "PRIMARY KEY  (`id`)";
	
	$table_name = USAM_TABLE_SELLER_META;
	$database_template[$table_name]['columns']['meta_id']    = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
	$database_template[$table_name]['columns']['seller_id']  = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['meta_key']   = "varchar(50) NOT NULL DEFAULT ''";
	$database_template[$table_name]['columns']['meta_value'] = "varchar(255) NOT NULL DEFAULT ''";
	$database_template[$table_name]['indexes']['seller_id']  = "KEY `seller_id` (`seller_id`)";
	$database_template[$table_name]['indexes']['meta_key']   = "KEY `meta_key` (`meta_key`)";
	$database_template[$table_name]['indexes']['meta_value'] = "KEY `meta_value` (`meta_value`)";
	$database_template[$table_name]['indexes']['PRIMARY']    = "PRIMARY KEY  (`meta_id`)";

	$table_name = USAM_TABLE_MARKETPLACE_COMMISSIONS;
	$database_template[$table_name]['columns']['id']          = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
	$database_template[$table_name]['columns']['seller_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['sum']         = "decimal(11,2) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['status']      = "varchar(10) NOT NULL DEFAULT ''";
	$database_template[$table_name]['columns']['order_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";	
	$database_template[$table_name]['columns']['date_insert'] = "datetime NOT NULL";
	$database_template[$table_name]['indexes']['PRIMARY']     = "PRIMARY KEY  (`id`)";
	$database_template[$table_name]['indexes']['seller_id']   = "KEY `seller_id` (`seller_id`)";
	$database_template[$table_name]['indexes']['order_id']    = "KEY `order_id` (`order_id`)";
	$database_template[$table_name]['indexes']['status']      = "KEY `status` (`status`)";
	
	$table_name = USAM_TABLE_USER_SELLERS;
	$database_template[$table_name]['columns']['id']           = "bigint(20) unsigned NOT NULL AUTO_INCREMENT";
	$database_template[$table_name]['columns']['seller_id']    = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['contact_id']   = "bigint(20) unsigned NOT NULL DEFAULT '0'";
	$database_template[$table_name]['columns']['date_insert']  = "datetime NOT NULL";
	$database_template[$table_name]['columns']['user_list']    = "varchar(10) NOT NULL DEFAULT ''";
	$database_template[$table_name]['indexes']['user_list']    = "KEY `user_list` (`user_list`)";
	$database_template[$table_name]['indexes']['seller_id']    = "KEY `seller_id` (`seller_id`)";
	$database_template[$table_name]['indexes']['contact_id']   = "KEY `contact_id` (`contact_id`)";
	$database_template[$table_name]['indexes']['PRIMARY']      = "PRIMARY KEY  (`id`)";
}
?>